"use strict";$(function(u){u("form").each(function(){var t=u(this),e={errorPlacement:function(t,e){var n=e.parent();n.hasClass("input-group")?t.insertAfter(n):n.hasClass("control")?t.insertAfter(e.next(".control-label")):t.insertAfter(e)}};"submit"==t.data("validate-on")&&u.extend(e,{onfocusout:!1,onkeyup:!1}),t.validate(e)}),u("form").on("submit",function(t){t.preventDefault();var n=u(this);if(!n.valid())return!1;var e=u("button[type=submit]",this);e.addClass("loading");var o,r,s,a,i,l=n.next(".response-message");return console.log("Submitting Form"),r=(o=n).attr("action"),s=o.serializeArray(),i=u.extend(!0,{},a,{url:r,type:"POST",data:s,dataType:"json"}),u.ajax(i).done(function(t){t.result?(n.trigger("form.submitted",[this,t]),u("input, textarea",n).removeClass("error"),u(".response",l).html(t.message),n.addClass("submitted"),n[0].reset()):t.errors&&u.each(t.errors,function(t,e){u("[name$='["+t+"]']",n).addClass("error").tooltip({title:e,placement:"bottom",trigger:"manual"}).tooltip("show").on("focus",function(){u(this).tooltip("dispose")})})}).fail(function(){u(".response",l).html(u("<span class='block'>Something went wrong.</span>"))}).always(function(){e.removeClass("loading")}),!1})});